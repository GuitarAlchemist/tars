<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="400" viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
  <style>
    .title { font: bold 24px sans-serif; fill: #2c3e50; }
    .subtitle { font: 18px sans-serif; fill: #34495e; }
    .box { stroke-width: 2px; rx: 10; ry: 10; }
    .pattern-box { fill: #3498db; stroke: #2980b9; }
    .feedback-box { fill: #9b59b6; stroke: #8e44ad; }
    .learning-box { fill: #2ecc71; stroke: #27ae60; }
    .application-box { fill: #e74c3c; stroke: #c0392b; }
    .generation-box { fill: #f39c12; stroke: #d35400; }
    .arrow { stroke: #7f8c8d; stroke-width: 2; marker-end: url(#arrowhead); }
    .label { font: 14px sans-serif; fill: white; }
  </style>
  
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#7f8c8d"/>
    </marker>
  </defs>
  
  <rect width="100%" height="100%" fill="#ecf0f1"/>
  
  <text x="400" y="40" text-anchor="middle" class="title">TARS Retroaction Loop</text>
  <text x="400" y="70" text-anchor="middle" class="subtitle">Continuous Learning from Code Improvements</text>
  
  <!-- Pattern Management -->
  <rect x="100" y="120" width="180" height="100" class="box pattern-box"/>
  <text x="190" y="175" text-anchor="middle" class="label">Pattern Management</text>
  
  <!-- Pattern Application -->
  <rect x="400" y="120" width="180" height="100" class="box application-box"/>
  <text x="490" y="175" text-anchor="middle" class="label">Pattern Application</text>
  
  <!-- Feedback Collection -->
  <rect x="600" y="220" width="180" height="100" class="box feedback-box"/>
  <text x="690" y="275" text-anchor="middle" class="label">Feedback Collection</text>
  
  <!-- Learning Mechanism -->
  <rect x="400" y="320" width="180" height="100" class="box learning-box"/>
  <text x="490" y="375" text-anchor="middle" class="label">Learning Mechanism</text>
  
  <!-- Pattern Generation -->
  <rect x="100" y="320" width="180" height="100" class="box generation-box"/>
  <text x="190" y="375" text-anchor="middle" class="label">Pattern Generation</text>
  
  <!-- Arrows -->
  <path d="M280 170 L400 170" class="arrow"/>
  <path d="M580 170 L600 220" class="arrow"/>
  <path d="M690 320 L580 370" class="arrow"/>
  <path d="M400 370 L280 370" class="arrow"/>
  <path d="M100 320 L100 220" class="arrow"/>
  <path d="M100 220 L100 120" class="arrow"/>
  
  <!-- Labels -->
  <text x="340" y="155" text-anchor="middle">Apply Patterns</text>
  <text x="620" y="200" text-anchor="middle">Collect Feedback</text>
  <text x="635" y="350" text-anchor="middle">Adjust Scores</text>
  <text x="340" y="390" text-anchor="middle">Learn Patterns</text>
  <text x="80" y="270" text-anchor="middle" transform="rotate(-90, 80, 270)">Generate New Patterns</text>
  <text x="80" y="170" text-anchor="middle" transform="rotate(-90, 80, 170)">Update Pattern Database</text>
</svg>
