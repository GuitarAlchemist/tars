DESCRIBE {
    name: "Simple TARS API Test"
    version: "1.0"
    description: "Simple test to check if TARS API infrastructure exists"
    author: "TARS Test"
    date: "2025-01-09"
}

FSHARP {
    // ğŸš€ SIMPLE TARS API TEST
    printfn "ğŸš€ Simple TARS API Test Starting..."
    
    try
        // Try to reference TARS API
        printfn "ğŸ“š Attempting to access TARS API..."
        
        // Check if we can access the namespace
        let apiNamespace = "TarsEngine.FSharp.Core.Api"
        printfn "ğŸ” Looking for namespace: %s" apiNamespace
        
        // Try basic operations
        printfn "âœ… F# execution working"
        printfn "âœ… Console output working"
        printfn "âœ… String formatting working"
        
        // Check current directory and assemblies
        let currentDir = System.Environment.CurrentDirectory
        printfn "ğŸ“ Current directory: %s" currentDir
        
        let assemblies = System.AppDomain.CurrentDomain.GetAssemblies()
        printfn "ğŸ“¦ Loaded assemblies: %d" assemblies.Length
        
        // Look for TARS-related assemblies
        let tarsAssemblies = 
            assemblies 
            |> Array.filter (fun a -> a.FullName.Contains("Tars") || a.FullName.Contains("TARS"))
            |> Array.map (fun a -> a.GetName().Name)
        
        printfn "ğŸ” TARS assemblies found: %d" tarsAssemblies.Length
        for assembly in tarsAssemblies do
            printfn "   ğŸ“¦ %s" assembly
        
        // Test if we can create basic data structures
        let testData = [1; 2; 3; 4; 5]
        let sum = testData |> List.sum
        printfn "ğŸ§® Basic computation test: sum of [1;2;3;4;5] = %d" sum
        
        // Test async operations
        let asyncTest = async {
            do! Async.Sleep(100)
            return "Async test completed"
        }
        let asyncResult = asyncTest |> Async.RunSynchronously
        printfn "âš¡ Async test: %s" asyncResult
        
        printfn "\nğŸ“Š Simple TARS Test Results:"
        printfn "âœ… F# execution: Working"
        printfn "âœ… Basic operations: Working"
        printfn "âœ… Async operations: Working"
        printfn "ğŸ“¦ TARS assemblies: %d found" tarsAssemblies.Length
        
        if tarsAssemblies.Length > 0 then
            printfn "ğŸ¯ TARS infrastructure appears to be available"
            "TARS infrastructure detected"
        else
            printfn "âš ï¸ No TARS assemblies found - API may not be available"
            "No TARS assemblies found"
            
    with
    | ex ->
        printfn "âŒ Test failed: %s" ex.Message
        sprintf "Test failed: %s" ex.Message
}
